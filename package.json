{
  "name": "aggo-builder",
  "displayName": "Aggo Builder",
  "icon": "media/aggo.png",
  "description": "VS Code extension that builds Aggo Applications with ease.",
  "version": "0.1.6",
  "publisher": "lizhao",
  "repository": {
    "type": "git",
    "url": "https://github.com/haymant/aggo.git"
  },
  "engines": {
    "node": ">=20",
    "vscode": "^1.85.0"
  },
  "license": "Apache-2.0",
  "categories": [
    "Other"
  ],
  "main": "out/extension.js",
  "scripts": {
    "vscode:prepublish": "pnpm run build:core && pnpm run build && pnpm run build:webview",
    "build:all": "pnpm run build:core && pnpm run build && pnpm run build:webview",
    "build": "tsc -p ./",
    "build:core": "tsc -p packages/core/tsconfig.json",
    "build:webview": "vite build --config webview/vite.config.ts",
    "dev:webview": "vite --config webview/vite.config.ts",
    "watch:webview": "vite --config webview/vite.config.ts",
    "watch": "node ./scripts/watch-tsc.js",
    "package": "vsce package",
    "package:hoist": "pnpm install --shamefully-hoist && pnpm run build && pnpm run build:webview && npm run package",
    "package:npm": "npm ci && npm run build && npm run build:webview && npm run package",
    "pretest": "pnpm run build",
    "test": "node ./out/test/runTest.js"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.17",
    "@types/node": "^22.12.0",
    "@types/react": "^19.0.0",
    "@types/react-dom": "^19.0.0",
    "@types/vscode": "^1.85.0",
    "@vitejs/plugin-react": "^5.1.0",
    "@vscode/vsce": "^3.7.1",
    "autoprefixer": "^10.4.0",
    "postcss": "^8.4.0",
    "tailwindcss": "^4.0.0",
    "typescript": "^5.0.0",
    "vite": "^7.2.4"
  },
  "files": [
    "out/**",
    "media/**",
    "package.json",
    "README.md",
    "LICENSE",
    "node_modules/ajv/**",
    "node_modules/fast-deep-equal/**",
    "node_modules/fast-uri/**",
    "node_modules/json-schema-traverse/**",
    "node_modules/require-from-string/**",
    "node_modules/jsonc-parser/**"
  ],
  "assets": [
    {
      "path": "node_modules/ajv/**",
      "addressable": false
    },
    {
      "path": "node_modules/jsonc-parser/**",
      "addressable": false
    }
  ],
  "dependencies": {
    "@aggo/core": "workspace:*",
    "@radix-ui/react-tabs": "^1.0.0",
    "@xyflow/react": "^12.9.3",
    "aggo-schema-editor": "^0.2.4",
    "ajv": "8.17.1",
    "jsonc-parser": "^3.0.0",
    "lucide-react": "^0.556.0",
    "react": "^19.0.0",
    "react-dom": "^19.0.0"
  },
  "bundledDependencies": [
    "ajv",
    "jsonc-parser"
  ],
  "contributes": {
    "configurationDefaults": {
      "files.associations": {
        "*.page": "json",
        "*.ds": "json",
        "*.schema": "json",
        "*.cpn": "json",
        "*.mcp": "json",
        "*.color": "json"
      }
    },
    "configuration": {
      "title": "Aggo",
      "properties": {
        "aggo.runtime.baseUrl": {
          "type": "string",
          "default": "http://localhost:5173",
          "description": "Base URL of the running Aggo runtime (used for Run/Debug)."
        },
        "aggo.runtime.devScript": {
          "type": "string",
          "default": "dev",
          "description": "Package.json script name to start the runtime dev server (e.g. dev)."
        },
        "aggo.runtime.cwd": {
          "type": "string",
          "default": "",
          "description": "Working directory to run the runtime dev script from (absolute or workspace-relative)."
        },
        "aggo.runtime.codegen.enabled": {
          "type": "boolean",
          "default": false,
          "description": "When enabled, the extension generates/removes Next.js routes under the runtime app to match resources/page/**/*.page."
        }
      }
    },
    "customEditors": [
      {
        "viewType": "aggo.pageEditor",
        "displayName": "Aggo Page Editor",
        "selector": [
          {
            "filenamePattern": "*.page"
          }
        ],
        "priority": "option"
      },
      {
        "viewType": "aggo.dataSourceEditor",
        "displayName": "Aggo DataSource Editor",
        "selector": [
          {
            "filenamePattern": "*.ds"
          }
        ],
        "priority": "option"
      },
      {
        "viewType": "aggo.schemaEditor",
        "displayName": "Aggo Schema Editor",
        "selector": [
          {
            "filenamePattern": "*.schema"
          }
        ],
        "priority": "option"
      },
      {
        "viewType": "aggo.cpnEditor",
        "displayName": "Aggo CPN Editor",
        "selector": [
          {
            "filenamePattern": "*.cpn"
          }
        ],
        "priority": "option"
      },
      {
        "viewType": "aggo.mcpEditor",
        "displayName": "Aggo MCP Editor",
        "selector": [
          {
            "filenamePattern": "*.mcp"
          }
        ],
        "priority": "option"
      },
      {
        "viewType": "aggo.colorEditor",
        "displayName": "Aggo Color Editor",
        "selector": [
          {
            "filenamePattern": "*.color"
          }
        ],
        "priority": "option"
      }
    ],
    "commands": [
      {
        "command": "aggo.openAggoPageEditor",
        "title": "Open with Aggo Page Editor"
      },
      {
        "command": "aggo.openAggoDataSourceEditor",
        "title": "Open with Aggo DataSource Editor"
      },
      {
        "command": "aggo.openAggoSchemaEditor",
        "title": "Open with Aggo Schema Editor"
      },
      {
        "command": "aggo.openAggoCPNEditor",
        "title": "Open with Aggo CPN Editor"
      },
      {
        "command": "aggo.openAggoMCPEditor",
        "title": "Open with Aggo MCP Editor"
      },
      {
        "command": "aggo.openAggoColorEditor",
        "title": "Open with Aggo Color Editor"
      },
      {
        "command": "aggo.inferSchemaFromJson",
        "title": "Aggo: Infer Schema from JSON"
      },
      {
        "command": "aggo.validateAgainstSchema",
        "title": "Aggo: Validate against JSON Schema"
      }
      ,
      {
        "command": "aggo.installComponent",
        "title": "Aggo: Install Component from JS bundle"
      },
      {
        "command": "aggo.uninstallComponent",
        "title": "Aggo: Uninstall Component"
      },
      {
        "command": "aggo.openPageFromTree",
        "title": "Aggo: Open Page"
      },
      {
        "command": "aggo.runPageDev",
        "title": "Aggo: Run Page (Dev)"
      },
      {
        "command": "aggo.debugPageDev",
        "title": "Aggo: Debug Page (Dev)"
      },
      {
        "command": "aggo.refreshPages",
        "title": "Aggo: Refresh Pages"
      },
      {
        "command": "aggo.scaffoldNextjsRuntime",
        "title": "Aggo: Scaffold Next.js Runtime"
      },
      {
        "command": "aggo.syncNextjsRoutes",
        "title": "Aggo: Sync Next.js Routes from Pages"
      }
    ],
    "menus": {
      "explorer/context": [
        {
          "command": "aggo.openAggoPageEditor",
          "when": "resourceExtname == .page",
          "group": "navigation"
        },
        {
          "command": "aggo.openAggoDataSourceEditor",
          "when": "resourceExtname == .ds",
          "group": "navigation"
        },
        {
          "command": "aggo.openAggoSchemaEditor",
          "when": "resourceExtname == .schema",
          "group": "navigation"
        },
        {
          "command": "aggo.openAggoCPNEditor",
          "when": "resourceExtname == .cpn",
          "group": "navigation"
        },
        {
          "command": "aggo.openAggoMCPEditor",
          "when": "resourceExtname == .mcp",
          "group": "navigation"
        },
        {
          "command": "aggo.openAggoColorEditor",
          "when": "resourceExtname == .color",
          "group": "navigation"
        }
      ],
      "editor/context": [
        {
          "command": "aggo.inferSchemaFromJson",
          "when": "editorLangId == json || editorLangId == jsonc",
          "group": "navigation"
        },
        {
          "command": "aggo.validateAgainstSchema",
          "when": "editorLangId == json || editorLangId == jsonc",
          "group": "navigation"
        }
      ],
      "view/title": [
        {
          "command": "aggo.refreshPages",
          "when": "view == aggo.pages",
          "group": "navigation"
        },
        {
          "command": "aggo.syncNextjsRoutes",
          "when": "view == aggo.pages",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "aggo.openPageFromTree",
          "when": "view == aggo.pages && viewItem == aggoPage",
          "group": "navigation"
        },
        {
          "command": "aggo.runPageDev",
          "when": "view == aggo.pages && viewItem == aggoPage",
          "group": "navigation"
        },
        {
          "command": "aggo.debugPageDev",
          "when": "view == aggo.pages && viewItem == aggoPage",
          "group": "navigation"
        }
      ]
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "aggoActivity",
          "title": "Aggo",
          "icon": "media/aggo.svg"
        }
      ]
    },
    "views": {
      "aggoActivity": [
        {
          "id": "aggo.pages",
          "name": "Pages",
          "icon": "media/aggo.svg"
        },
        {
          "id": "aggo.library",
          "type": "webview",
          "name": "Components",
          "icon": "media/aggo.svg"
        },
        {
          "id": "aggo.properties",
          "type": "webview",
          "name": "Details",
          "icon": "media/aggo.svg"
        }
      ]
    }
  }
}
